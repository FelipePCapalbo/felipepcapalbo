<!-- 
  IMPORTANT!  
  Keep this file unchanged to use as a template for all future project pages. 
  For every new project you add to your portfolio, make a copy of this file in the
  'project-pages' folder with a name related to the project.
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- Global settings synced with main index.html -->
    <link rel="icon" href="../assets/images/ProfilePicture.jpeg" />
    <title>Felipe Papa Capalbo Portfolio</title>
    <meta name="description" content="Felipe Papa Capalbo's portfolio." />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="../css/layout.css" />
    <link rel="stylesheet" href="../css/typography.css" />
    <link rel="stylesheet" href="../css/utilities.css" />

    <!-- Marked.js (converter Markdown → HTML) -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  </head>
  <body>
    <!-- NAVBAR -->
    <div class="navbar">
      <a class="nav-title-link" href="../index.html">
        <span class="nav-title">Felipe Capalbo Portfolio</span>
      </a>
      <a class="button" href="mailto:felipepcapalbo@outlook.com">
        <span class="button-text">Contact Me</span>
      </a>
    </div>

    <!-- MAIN PAGE CONTENT -->
    <div id="main-content">
      <!-- PROJECT HEADER -->
      <div id="project-header">
        <div class="main-title">Brazilian E‑commerce Statistical Analysis</div>
        <div class="body-text">
          Investigating how temporal, socioeconomic and product factors influence the average order
          value in Brazilian online retail.
        </div>
        <img
          class="project-header-image"
          src="../assets/images/EcommerceAnalysis.png"
          alt="Brazilian ecommerce header"
        />
      </div>

      <!-- PROJECT DETAILS -->
      <div id="project-details">
        <div class="subheader-text">Project Details</div>

        <!-- Markdown será carregado aqui -->
        <section
          id="markdown-wrapper"
          class="body-text"
          data-md-src="https://raw.githubusercontent.com/FelipePCapalbo/Olist-Eccomerce-Statistical-Analysis/main/README.md">
          <p>Loading content…</p>
        </section>
      </div>
    </div>

    <!-- FOOTER -->
    <div id="footer">
      <a class="icon-link" target="_blank" href="https://linkedin.com/in/felipecapalbo">
        <img src="../assets/icons/linkedin.svg" class="footer-icon" alt="LinkedIn" />
      </a>
      <a class="icon-link" target="_blank" href="https://github.com/FelipePCapalbo">
        <img src="../assets/icons/github.svg" class="footer-icon" alt="GitHub" />
      </a>
      <a class="icon-link" href="mailto:felipepcapalbo@outlook.com">
        <img src="../assets/icons/mail.svg" class="footer-icon" alt="Email" />
      </a>
    </div>

    <!-- SCRIPT para buscar e renderizar o Markdown -->
    <script>
      document.addEventListener('DOMContentLoaded', async () => {
        const container = document.getElementById('markdown-wrapper');
        if (!container) return;

        const mdSrc = container.dataset.mdSrc;
        if (!mdSrc) {
          container.innerHTML = '<p class="error">data-md-src não definido.</p>';
          return;
        }

        try {
          const response = await fetch(mdSrc);
          if (!response.ok) throw new Error('Não foi possível baixar o README');

          const markdown = await response.text();
          const html = marked.parse(markdown, { mangle: false, headerIds: false });
          container.innerHTML = html;
        } catch (err) {
          container.innerHTML = `<p class="error">Erro ao carregar conteúdo: ${err.message}</p>`;
          console.error(err);
        }
      });
    </script>
  </body>
</html>
